<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Dancing+Script:300,300italic,400,400italic,700,700italic|Noto+Sans+SC:300,300italic,400,400italic,700,700italic|PT+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta name="description" content="Description Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note th">
<meta property="og:type" content="website">
<meta property="og:title" content="394. Decode String">
<meta property="og:url" content="http://yoursite.com/leetcode/394-Decode-String.html">
<meta property="og:site_name" content="Shawn&#39;s Blog">
<meta property="og:description" content="Description Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note th">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-17T04:50:12.000Z">
<meta property="article:modified_time" content="2020-09-12T21:20:13.272Z">
<meta property="article:author" content="Shawn Jiang">
<meta property="article:tag" content="Stack">
<meta property="article:tag" content="Recursive calls">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yoursite.com/leetcode/394-Decode-String">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>394. Decode String | Shawn's Blog
</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Shawn's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-bell fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fas fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fas fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-bars fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        
            
  <li class="menu-item menu-item-designs">

    <a href="/design/" rel="section"><i class="fa fa-book fa-fw"></i>Designs</a>

  </li>


      
        
            
  <li class="menu-item menu-item-leetcode">

    <a href="/leetcode/" rel="section"><i class="fa fa-sticky-note fa-fw"></i>Leetcode</a>

  </li>


      
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#description"><span class="nav-number">1.</span> <span class="nav-text"> Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sample-input-and-output"><span class="nav-number">2.</span> <span class="nav-text"> Sample Input and Output</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#solution"><span class="nav-number"></span> <span class="nav-text"> Solution</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#solution-1-stack"><span class="nav-number">1.</span> <span class="nav-text"> Solution 1: Stack</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sample-input-analysis"><span class="nav-number">1.1.</span> <span class="nav-text"> Sample Input Analysis</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#solution-2-recursive"><span class="nav-number">2.</span> <span class="nav-text"> Solution 2: Recursive</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sample-input-analysis"><span class="nav-number">2.1.</span> <span class="nav-text"> Sample Input Analysis</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#resource"><span class="nav-number">3.</span> <span class="nav-text"> Resource</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Shawn Jiang"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">Shawn Jiang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Shawn0630" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Shawn0630" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sf.jiang.ca@gmail.com" title="E-Mail → mailto:sf.jiang.ca@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner page posts-expand">
      
  

      
      

      

        
        <ul class="sub-menu menu">
          
            
          
        </ul>
        

        

                
                

                
                
        
      
  

      

    
    
    
    <div class="post-block" lang="en">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">394. Decode String
</h1>

<div class="post-meta-container">
  

</div>

</header>

      
      
      
      <div class="post-body">
          <h3 id="description"><a class="markdownIt-Anchor" href="#description"></a> Description</h3>
<p>Given an encoded string, return its decoded string.</p>
<p>The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.</p>
<p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p>
<p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there won’t be input like 3a or 2[4].</p>
<a id="more"></a>
<h3 id="sample-input-and-output"><a class="markdownIt-Anchor" href="#sample-input-and-output"></a> Sample Input and Output</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s &#x3D; &quot;3[a]2[bc]&quot;, return &quot;aaabcbc&quot;.</span><br><span class="line">s &#x3D; &quot;3[a2[c]]&quot;, return &quot;accaccacc&quot;.</span><br><span class="line">s &#x3D; &quot;2[abc]3[cd]ef&quot;, return &quot;abcabccdcdcdef&quot;.</span><br></pre></td></tr></table></figure>
<h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution</h2>
<h3 id="solution-1-stack"><a class="markdownIt-Anchor" href="#solution-1-stack"></a> Solution 1: Stack</h3>
<h4 id="sample-input-analysis"><a class="markdownIt-Anchor" href="#sample-input-analysis"></a> Sample Input Analysis</h4>
<ul>
<li>Input: “3[a]2[bc]”</li>
</ul>
<table>
<thead>
<tr>
<th>current read</th>
<th>number stack</th>
<th>string stack</th>
<th>output</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
<td>EMPTY</td>
<td>“”</td>
</tr>
<tr>
<td>[</td>
<td>3</td>
<td>EMPTY</td>
<td>“”</td>
</tr>
<tr>
<td>a</td>
<td>3</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>]</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>aaa</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>EMPTY</td>
<td>aaa</td>
</tr>
<tr>
<td>[</td>
<td>2</td>
<td>EMPTY</td>
<td>aaa</td>
</tr>
<tr>
<td>b</td>
<td>2</td>
<td>b</td>
<td>aaa</td>
</tr>
<tr>
<td>c</td>
<td>2</td>
<td>bc</td>
<td>aaa</td>
</tr>
<tr>
<td>]</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>aaabcbc</td>
</tr>
</tbody>
</table>
<ul>
<li>Input “3[a2[c]]”</li>
</ul>
<table>
<thead>
<tr>
<th>current read</th>
<th>number stack</th>
<th>string stack</th>
<th>output</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
<td>EMPTY</td>
<td>“”</td>
</tr>
<tr>
<td>a</td>
<td>3</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>[</td>
<td>3</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>2</td>
<td>2 -&gt; 3</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>[</td>
<td>2 -&gt; 3</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>c</td>
<td>2 -&gt; 3</td>
<td>c -&gt; a</td>
<td>“”</td>
</tr>
<tr>
<td>]</td>
<td>3</td>
<td>acc</td>
<td>“”</td>
</tr>
<tr>
<td>]</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>accaccacc</td>
</tr>
</tbody>
</table>
<ul>
<li>Input “2[abc]3[cd]ef”</li>
</ul>
<table>
<thead>
<tr>
<th>current read</th>
<th>number stack</th>
<th>string stack</th>
<th>output</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>2</td>
<td>EMPTY</td>
<td>“”</td>
</tr>
<tr>
<td>[</td>
<td>2</td>
<td>EMPTY</td>
<td>“”</td>
</tr>
<tr>
<td>a</td>
<td>2</td>
<td>a</td>
<td>“”</td>
</tr>
<tr>
<td>b</td>
<td>2</td>
<td>ab</td>
<td>“”</td>
</tr>
<tr>
<td>c</td>
<td>2</td>
<td>abc</td>
<td>“”</td>
</tr>
<tr>
<td>]</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>abcabc</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>EMPTY</td>
<td>abcabc</td>
</tr>
<tr>
<td>[</td>
<td>3</td>
<td>EMPTY</td>
<td>abcabc</td>
</tr>
<tr>
<td>c</td>
<td>3</td>
<td>c</td>
<td>abcabc</td>
</tr>
<tr>
<td>d</td>
<td>3</td>
<td>cd</td>
<td>abcabc</td>
</tr>
<tr>
<td>]</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>abcabccdcd</td>
</tr>
<tr>
<td>e</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>abcabccdcde</td>
</tr>
<tr>
<td>f</td>
<td>EMPTY</td>
<td>EMPTY</td>
<td>abcabccdcdef</td>
</tr>
</tbody>
</table>
<h3 id="solution-2-recursive"><a class="markdownIt-Anchor" href="#solution-2-recursive"></a> Solution 2: Recursive</h3>
<h4 id="sample-input-analysis"><a class="markdownIt-Anchor" href="#sample-input-analysis-2"></a> Sample Input Analysis</h4>
<ul>
<li>Input “3[a]2[bc]”&quot;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">decode(&quot;3[a]2[bc]&quot;) &#x3D; 3 * decode(&quot;a&quot;) + 2 * decode(&quot;bc&quot;)</span><br></pre></td></tr></table></figure>
<ul>
<li>Input “3[a2[c]]”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">decode(&quot;3[a2[c]]&quot;) &#x3D; 3 * decode(&quot;a2[c]&quot;)</span><br><span class="line">                   &#x3D; 3 * (decode(&quot;a&quot;) + 2 * decode(&quot;c&quot;))</span><br></pre></td></tr></table></figure>
<ul>
<li>Input “2[abc]3[cd]ef”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">decode(&quot;2[abc]3[cd]ef&quot;) &#x3D; 2 * decode(&quot;abc3[cd]ef&quot;) + 2 * ((decode(&quot;abc&quot;)</span><br><span class="line">                          + 3 * decode(&quot;cd&quot;) + decode(&quot;ef&quot;)))</span><br></pre></td></tr></table></figure>
<h3 id="resource"><a class="markdownIt-Anchor" href="#resource"></a> Resource</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/decode-string/">394. Decode String</a></li>
</ul>

      </div>
      
      
      
    </div>
    

    
    
    


      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shawn Jiang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

  















  








  

  

  

</body>
</html>
